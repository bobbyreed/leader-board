(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5604:(e,a,r)=>{Promise.resolve().then(r.bind(r,8607))},5610:(e,a,r)=>{"use strict";let d,s,l;r.d(a,{db:()=>s,j:()=>l});var t=r(3915),c=r(5317),n=r(6203);d=(0,t.Dk)().length?(0,t.Dk)()[0]:(0,t.Wp)({apiKey:"AIzaSyDd6JKctpZljVhgYvr6L9tqiIFuISZAvIk",authDomain:"advanced-web-leaderboard.firebaseapp.com",projectId:"advanced-web-leaderboard",storageBucket:"advanced-web-leaderboard.firebasestorage.app",messagingSenderId:"317014929641",appId:"1:317014929641:web:79af9f3b2cc20e4635c078",measurementId:"G-7EEJ7RG8QL"}),s=(0,c.aU)(d),l=(0,n.xI)(d)},8607:(e,a,r)=>{"use strict";r.d(a,{default:()=>c});var d=r(5155),s=r(2115),l=r(5610);r(9700);var t=r(5317);function c(e){let{limitCount:a=10}=e,[r,c]=(0,s.useState)([]),[n,i]=(0,s.useState)(!0),[o,h]=(0,s.useState)(null);return((0,s.useEffect)(()=>{let e=(0,t.P)((0,t.rJ)(l.db,"leaderboard"),(0,t.My)("score","desc"),(0,t.AB)(a)),r=(0,t.aQ)(e,e=>{let a=[];e.forEach(e=>{a.push({id:e.id,...e.data()})}),c(a),i(!1),h(null)},e=>{console.error("Error listening to leaderboard:",e),h("Failed to load leaderboard data. Please try again later."),i(!1)});return()=>r()},[a]),n)?(0,d.jsx)("div",{children:"Loading leaderboard..."}):o?(0,d.jsx)("div",{className:"error",children:o}):(0,d.jsx)("div",{className:"leaderboard-container",children:0===r.length?(0,d.jsx)("p",{children:"No scores to display yet."}):(0,d.jsxs)("table",{className:"w-full border-collapse",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{className:"leaderboard-rows",children:[(0,d.jsx)("th",{children:"Rank"}),(0,d.jsx)("th",{children:"Player"}),(0,d.jsx)("th",{children:"Score"})]})}),(0,d.jsx)("tbody",{children:r.map((e,a)=>(0,d.jsxs)("tr",{className:a%2==0?"bg-gray-50":"",children:[(0,d.jsx)("td",{children:a+1}),(0,d.jsx)("td",{children:e.username}),(0,d.jsx)("td",{children:e.score})]},e.id))})]})})}},9700:(e,a,r)=>{"use strict";r.d(a,{Mg:()=>t});var d=r(5610),s=r(5317);let l=(0,s.rJ)(d.db,"leaderboard"),t=async(e,a,r)=>await (0,s.gS)(l,{userId:e,username:a,score:r,timestamp:(0,s.O5)()})}},e=>{var a=a=>e(e.s=a);e.O(0,[992,158,645,441,684,358],()=>a(5604)),_N_E=e.O()}]);