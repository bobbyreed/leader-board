(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[341],{5610:(e,r,s)=>{"use strict";let a,t,o;s.d(r,{db:()=>t,j:()=>o});var n=s(3915),d=s(5317),l=s(6203);a=(0,n.Dk)().length?(0,n.Dk)()[0]:(0,n.Wp)({apiKey:"AIzaSyDd6JKctpZljVhgYvr6L9tqiIFuISZAvIk",authDomain:"advanced-web-leaderboard.firebaseapp.com",projectId:"advanced-web-leaderboard",storageBucket:"advanced-web-leaderboard.firebasestorage.app",messagingSenderId:"317014929641",appId:"1:317014929641:web:79af9f3b2cc20e4635c078",measurementId:"G-7EEJ7RG8QL"}),t=(0,d.aU)(a),o=(0,l.xI)(a)},5695:(e,r,s)=>{"use strict";var a=s(8999);s.o(a,"useRouter")&&s.d(r,{useRouter:function(){return a.useRouter}})},6565:(e,r,s)=>{Promise.resolve().then(s.bind(s,9218))},9218:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>l});var a=s(5155),t=s(2115),o=s(9700);function n(e){let{userId:r,username:s,onScoreAdded:n}=e,[d,l]=(0,t.useState)(""),[c,i]=(0,t.useState)(!1),[u,m]=(0,t.useState)(null),b=async e=>{if(e.preventDefault(),!d||isNaN(Number(d))){m("Please enter a valid score");return}try{i(!0),await (0,o.Mg)(r||"anonymous",s||"Anonymous",Number(d)),l(""),m(null),n&&n()}catch(e){console.error("Error adding score:",e),m("Failed to add score. Please try again.")}finally{i(!1)}};return(0,a.jsxs)("div",{className:"score-form-container my-4",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Add Your Score"}),u&&(0,a.jsx)("p",{className:"text-red-500 mb-2",children:u}),(0,a.jsxs)("form",{onSubmit:b,className:"flex flex-col space-y-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"score",className:"block text-sm font-medium",children:"Score"}),(0,a.jsx)("input",{type:"number",id:"score",value:d,onChange:e=>l(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter your score",required:!0})]}),(0,a.jsx)("button",{type:"submit",disabled:c,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ".concat(c?"opacity-50 cursor-not-allowed":""),children:c?"Adding...":"Add Score"})]})]})}var d=s(5695);function l(){let e=(0,d.useRouter)(),[r,s]=(0,t.useState)("");return(0,a.jsx)("div",{className:"flex min-h-screen flex-col items-center justify-center p-24",children:(0,a.jsxs)("div",{className:"w-full max-w-md",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-6 text-center",children:"Add Your Score"}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium",children:"Username"}),(0,a.jsx)("input",{type:"text",id:"username",value:r,onChange:e=>s(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter your username"})]}),(0,a.jsx)(n,{username:r,onScoreAdded:()=>{e.push("/")}}),(0,a.jsx)("div",{className:"mt-4 text-center",children:(0,a.jsx)("button",{onClick:()=>e.push("/"),className:"text-indigo-600 hover:text-indigo-800",children:"Back to Leaderboard"})})]})})}},9700:(e,r,s)=>{"use strict";s.d(r,{Mg:()=>n});var a=s(5610),t=s(5317);let o=(0,t.rJ)(a.db,"leaderboard"),n=async(e,r,s)=>await (0,t.gS)(o,{userId:e,username:r,score:s,timestamp:(0,t.O5)()})}},e=>{var r=r=>e(e.s=r);e.O(0,[992,158,645,441,684,358],()=>r(6565)),_N_E=e.O()}]);